(()=>{var t={609:()=>{self.fetch||(self.fetch=function(t,e){return e=e||{},new Promise((function(r,n){var o=new XMLHttpRequest,i=[],a={},s=function t(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:t,headers:{keys:function(){return i},entries:function(){return i.map((function(t){return[t,o.getResponseHeader(t)]}))},get:function(t){return o.getResponseHeader(t)},has:function(t){return null!=o.getResponseHeader(t)}}}};for(var u in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().toLowerCase().replace(/^(.+?):/gm,(function(t,e){a[e]||i.push(a[e]=e)})),r(s())},o.onerror=n,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(u,e.headers[u]);o.send(e.body||null)}))})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(()=>{"use strict";r(609);class t{static get(t){return document.querySelector(t)}static updateValue(t,e){let r=this.get(t);return r.textContent=e,r}static cid(){let t=document.cookie.split(";").find((t=>t.match(/_ga=(.+?)/)));return t?t.split(".").slice(-2).join("."):""}}class e{static call(t){return e=this,r=arguments,n=function*({token:t,data:e}){const r=`https://api.staging.atendesimples.com/call-tracking/check-in/2/${t}`,n={method:"POST",body:JSON.stringify(e),headers:{"x-as-key":t,"Content-type":"application/json"}};let o=yield fetch(r,n);return yield o.json()},new Promise(((t,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((n=n.apply(e,r)).next())}));var e,r,n}}function n(t){let e={},r={};for(var n in t)r[n]=t[n];return Object.keys(r).forEach((function(r,n){t[r]&&(e[r]=t[r],sessionStorage.setItem(r,t[r]))})),e}function o(t){let e={};for(var r in t)e[r]=t[r];let n=function(t){return localStorage.getItem(t)||void 0};return{properties:e,first:function(){let t={};return Object.keys(e).forEach((function(r,o){n(r)||localStorage.setItem(r,e[r]),t[r]=n(r)})),t},latest:function(){let t={};return Object.keys(e).forEach((function(r,o){localStorage.setItem(r,e[r]),t[r]=n(r)})),t}}}const i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const s=new Uint8Array(16);function u(){if(!a&&(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)}const c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));const l=function(t,e,r){if(i.randomUUID&&!e&&!t)return i.randomUUID();const n=(t=t||{}).random||(t.rng||u)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return function(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}(n)};function m(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))}function d(t){return sessionStorage.getItem(t)?sessionStorage.getItem(t):m(t)?m(t):null}function h(t,e=""){return localStorage.getItem(t)?localStorage.getItem(t):e}function p(t,e="no_utm"){return d(t)?d(t):e||"no_utm"}function f(){return location.protocol?location.protocol+"//"+location.hostname+location.pathname:""}function _(){return location.search||""}function g(){return document.referrer||"direto"}const y={QueryStringSession:n,Context:o,Analytics:class{static createSessionByQueryString(){return n({utm_source:p("utm_source"),utm_medium:p("utm_medium"),utm_campaign:p("utm_campaign"),utm_id:p("utm_campaignid"),utm_term:p("utm_term"),utm_content:p("utm_content"),last_referrer:d("last_referrer")||g(),last_page:d("last_page")||f(),last_querystring:d("last_querystring")||_()})}static fixed(){let t=o({utm_source:p("utm_source"),utm_medium:p("utm_medium"),utm_campaign:p("utm_campaign"),utm_id:p("utm_campaignid"),utm_term:p("utm_term"),utm_content:p("utm_content"),referrer:g(),page:f(),querystring:_(),cid:"553524416.1685026105",date:(new Date).toISOString(),fingerprint:h("fingerprint",l())}),e=t.first();return{context:t,attributes:e}}static latest(){let t=o({last_utm_source:p("utm_source"),last_utm_medium:p("utm_medium"),last_utm_campaign:p("utm_campaign"),last_utm_id:p("utm_campaignid"),last_utm_term:p("utm_term"),last_utm_content:p("utm_content"),last_referrer:d("last_referrer")||g(),last_page:d("last_page")||f(),last_querystring:d("last_querystring")||_(),last_cid:"553524416.1685026105",last_convert_page:location.href}),e=t.latest();return{context:t,attributes:e}}static call(){return this.createSessionByQueryString(),{fixed:this.fixed(),latest:this.latest()}}}};var v,b,k,S,w=Object.defineProperty,x=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,O=(t,e,r)=>e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U=(t,e)=>{for(var r in e||(e={}))I.call(e,r)&&O(t,r,e[r]);if(x)for(var r of x(e))P.call(e,r)&&O(t,r,e[r]);return t},j=(t,e,r)=>(O(t,"symbol"!=typeof e?e+"":e,r),r),R=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},C=(t,e,r)=>(R(t,e,"read from private field"),r?r.call(t):e.get(t)),A=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},E=(t,e,r,n)=>(R(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),q=(t,e,r)=>new Promise(((n,o)=>{var i=t=>{try{s(r.next(t))}catch(t){o(t)}},a=t=>{try{s(r.throw(t))}catch(t){o(t)}},s=t=>t.done?n(t.value):Promise.resolve(t.value).then(i,a);s((r=r.apply(t,e)).next())}));v=new WeakMap,b=new WeakMap,k=new WeakMap,S=new WeakMap;const T={CallTracking:class{constructor(t){A(this,v,void 0),A(this,b,void 0),A(this,k,void 0),A(this,S,void 0),j(this,"__utm"),j(this,"__checkin"),j(this,"__loading"),E(this,v,t.token),E(this,b,t.fallback),E(this,k,t.html),this.utmAnalyzer()}utmAnalyzer(){let t=y.Analytics.call();this.__utm=U(U({},t.fixed.attributes),t.latest.attributes)}checkin(){return q(this,null,(function*(){this.__loading=!0;try{return this.__checkin=yield e.call({token:C(this,v),data:{utm:this.__utm,visitor_id:this.__utm.fingerprint,visitor_user_agent:navigator.userAgent||"no_ua",cid:"553524416.1685026105",date:(new Date).toISOString()}}),this.__checkin.number}catch(t){return console.error(t),C(this,b).error}finally{this.__loading=!1}}))}createPhoneNumber(){return q(this,null,(function*(){let t=localStorage.getItem("calltracking:phonenumber");if(t)return t;let e=(yield this.checkin())||C(this,b).error;return localStorage.setItem("calltracking:phonenumber",e),e}))}load(){return q(this,null,(function*(){var e;if(null==(e=this.__checkin)?void 0:e.number)return console.log("Already checkin before"),t.updateValue(C(this,k).selector,this.__checkin.number),this.__checkin.number;let r=t.get(C(this,k).selector);if(!r)return C(this,b).error;if("load"==C(this,k).event){if(!this.__loading){let e=yield this.createPhoneNumber();return t.updateValue(C(this,k).selector,e),e}}else"click"==C(this,k).event&&r.addEventListener("click",(()=>q(this,null,(function*(){if(C(this,S)||this.__loading)return;let e=yield this.createPhoneNumber();return E(this,S,!0),t.updateValue(C(this,k).selector,e),e}))))}))}}};window.AtendeSimples=T})()})();