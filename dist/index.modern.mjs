import e from"fs";import t from"path";import r from"os";import n from"axios";var o=0;function s(e){return"__private_"+o+++"_"+e}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const a=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function c(e){console.log(`[dotenv@16.0.3][DEBUG] ${e}`)}const l={config:function(n){let o=t.resolve(process.cwd(),".env"),s="utf8";const i=Boolean(n&&n.debug),a=Boolean(n&&n.override);var p;n&&(null!=n.path&&(o="~"===(p=n.path)[0]?t.join(r.homedir(),p.slice(1)):p),null!=n.encoding&&(s=n.encoding));try{const t=l.parse(e.readFileSync(o,{encoding:s}));return Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(process.env,e)?(!0===a&&(process.env[e]=t[e]),i&&c(!0===a?`"${e}" is already defined in \`process.env\` and WAS overwritten`:`"${e}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[e]=t[e]}),{parsed:t}}catch(e){return i&&c(`Failed to load ${o} ${e.message}`),{error:e}}},parse:function(e){const t={};let r,n=e.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(r=a.exec(n));){const e=r[1];let n=r[2]||"";n=n.trim();const o=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(n=n.replace(/\\n/g,"\n"),n=n.replace(/\\r/g,"\r")),t[e]=n}return t}};var p=l.config,d=l.parse,u=l;u.config=p,u.parse=d,p({path:`.env.${process.env.NODE_ENV}`});var f=/*#__PURE__*/s("token"),h=/*#__PURE__*/s("fallback"),v=/*#__PURE__*/s("html");const m={CallTracking:class{constructor(e){Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),i(this,f)[f]=e.token,i(this,h)[h]=e.fallback,i(this,v)[v]=e.html}googleClientId(){let e=document.cookie.split(";").find(e=>e.match(/_ga=(.+?)/));return e?e.split(".").slice(-2).join("."):""}run(){const e=`${process.env.CALL_TRACKING_URL}/2/${i(this,f)[f]}`,t={method:"POST",data:JSON.stringify({cid:this.googleClientId()}),headers:{"Content-Type":"application/json"}};let r=document.querySelector(i(this,v)[v].selector);return r?n(e,t).then(e=>{const{data:t}=e;return r.textContent=(null==t?void 0:t.number)||i(this,h)[h].error,(null==t?void 0:t.number)||i(this,h)[h].error}):(console.info("[CallTracking] Campo HTML n√£o encontrado"),i(this,h)[h].error)}}};export{m as default};
//# sourceMappingURL=index.modern.mjs.map
